{% extends 'layout.html' %}
{% block content %}
    <div class="container">
        <nav class="nav justify-content-center nav-pills flex-column flex-md-row border rounded my-3 py-2 px-2 col-lg-12 col-md-8">
            <a class="nav-link active" href="#mens" data-toggle="tab">Men's Products</a>
            <a class="nav-link" href="#womens" data-toggle="tab">Women's Products</a>
            <a class="nav-link" href="#kids" data-toggle="tab">Kids' Products</a>
            <a class="nav-link" href="#addNew" data-toggle="tab">Add New Product</a>
        </nav>
        <div class="tab-content border rounded p-3">
            <div class="tab-pane active" id="mens">
                <div class="row row-cols-1 row-cols-md-3 g-4">
                    {% for product in men_products %}
                        <div class="col">
                            <div class="card">
                                <!-- <img src="..." class="card-img-top" alt="..."> -->
                                <div class="card-body">
                                    <h5 class="card-title border-bottom pb-3">{{ product.name }}</h5>
                                    <p class="card-text">Gender -  {{ product.gender }}</p>
                                    <p class="card-text">Size - {{ product.size }}</p>
                                    <p class="card-text">Quantity - {{ product.quantity }}</p>
                                    <p class="card-text">Price - {{ product.price }} &euro;</p>
                                    <div class="row justify-content-around border-top pt-3 mt-3">
                                        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#deleteModalMen">Delete Product</button>
                                        <a href="{{ url_for('update_product', product_barcode=product.barcode) }}" class="btn btn-info">Change Product</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal fade" id="deleteModalMen" tabindex="-1" role="dialog" aria-labelledby="deleteModalMenLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="deleteModalMenLabel">Delete Product?</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                        <form class="" action="{{ url_for('delete_product', product_barcode=product.barcode) }}" method="POST">
                                            <input type="submit" class="btn btn-danger" value="Delete">
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
            <div class="tab-pane" id="womens">
                <div class="row row-cols-1 row-cols-md-3 g-4">
                    {% for product in female_products %}
                        <div class="col">
                            <div class="card">
                                <!-- <img src="..." class="card-img-top" alt="..."> -->
                                <div class="card-body">
                                    <h5 class="card-title border-bottom pb-3">{{ product.name }}</h5>
                                    <p class="card-text">Gender -  {{ product.gender }}</p>
                                    <p class="card-text">Size - {{ product.size }}</p>
                                    <p class="card-text">Quantity - {{ product.quantity }}</p>
                                    <p class="card-text">Price - {{ product.price }} &euro;</p>
                                    <div class="row justify-content-around border-top pt-3 mt-3">
                                        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#deleteModalFemale">Delete Product</button>
                                        <a href="{{ url_for('update_product', product_barcode=product.barcode) }}" class="btn btn-info">Change Product</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal fade" id="deleteModalFemale" tabindex="-1" role="dialog" aria-labelledby="deleteModalFemaleLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="deleteModalFemaleLabel">Delete Product?</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                        <form class="" action="{{ url_for('delete_product', product_barcode=product.barcode) }}" method="POST">
                                            <input type="submit" class="btn btn-danger" value="Delete">
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
            <div class="tab-pane" id="kids">
                <div class="row row-cols-1 row-cols-md-3 g-4">
                    {% for product in kids_products %}
                        <div class="col">
                            <div class="card">
                                <!-- <img src="..." class="card-img-top" alt="..."> -->
                                <div class="card-body">
                                    <h5 class="card-title border-bottom pb-3">{{ product.name }}</h5>
                                    <p class="card-text">Gender -  {{ product.gender }}</p>
                                    <p class="card-text">Size - {{ product.size }}</p>
                                    <p class="card-text">Quantity - {{ product.quantity }}</p>
                                    <p class="card-text">Price - {{ product.price }} &euro;</p>
                                    <div class="row justify-content-around border-top pt-3 mt-3">
                                        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#deleteModalKids">Delete Product</button>
                                        <a href="{{ url_for('update_product', product_barcode=product.barcode) }}" class="btn btn-info">Change Product</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal fade" id="deleteModalKids" tabindex="-1" role="dialog" aria-labelledby="deleteModalKidsLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="deleteMosdalKidsLabel">Delete Product?</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                        <form class="" action="{{ url_for('delete_product', product_barcode=product.barcode) }}" method="POST">
                                            <input type="submit" class="btn btn-danger" value="Delete">
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
            <div class="tab-pane" id="addNew">
                <form class="col-lg-12" method="POST">
                    {{ form.hidden_tag() }}
                    <fieldset class="form-group">
                        <legend class="border-bottom mb-3 pb-3">Add New Product To Stock</legend>
                        <div class="form-group">
                            {{ form.name.label(class="form-control-label") }}
                            {% if form.name.errors %}
                                {{ form.name(class="form-control form-control-md is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.name.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.name(class="form-control form-control-md") }}
                            {% endif %}
                        </div>
                        <div class="form-group">
                            {{ form.gender.label(class="form-control-label") }}
                            {% if form.gender.errors %}
                                {{ form.gender(class="form-control form-control-md is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.gender.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.gender(class="form-control form-control-md") }}
                            {% endif %}
                        </div>
                        <div class="form-group">
                            {{ form.size.label(class="form-control-label") }}
                            {% if form.size.errors %}
                                {{ form.size(class="form-control form-control-md is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.size.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.size(class="form-control form-control-md") }}
                            {% endif %}
                        </div>
                        <div class="form-group">
                            {{ form.quantity.label(class="form-control-label") }}
                            {% if form.quantity.errors %}
                                {{ form.quantity(class="form-control form-control-md is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.quantity.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.quantity(class="form-control form-control-md") }}
                            {% endif %}
                        </div>
                        <div class="form-group">
                            {{ form.price.label(class="form-control-label") }}
                            {% if form.price.errors %}
                                {{ form.price(class="form-control form-control-md is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.price.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.price(class="form-control form-control-md") }}
                            {% endif %}
                        </div>
                    </fieldset>
                    <div class="form-group">
                        {{ form.submit(class="btn btn-outline-info") }}
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock content %}
